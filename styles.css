/* =========================================
   Yokohama Nursery Availability - Light gray UI (clean)
   - Background: light gray
   - Text: black
   - Links: navy
   - Delta colors kept
   - ONLY table header sticky (page header not sticky)
   - Sticky header works on page scroll (no overflow-y container on desktop)
   - Avoid overlay issues with z-index
   - Applies to BOTH #tbl (list) and #hist (facility)
   ========================================= */

* { box-sizing: border-box; }

:root{
  --bg: #f3f4f6;        /* page bg */
  --surface: #ffffff;   /* cards/tables */
  --text: #111111;
  --muted: #555555;
  --border: #e5e7eb;

  --row-alt: #fafafa;

  --link: #0b2a6f;
  --link-hover: #061a43;

  --thead-bg: #0b2a6f;  /* navy */
  --thead-text: #ffffff;

  --delta-plus: #d11;
  --delta-minus: #06c;
  --delta-zero: #555;
  --delta-none: #999;

  --pill-bg: #f3f6ff;
  --pill-border: #dfe7ff;
}

/* Base */
html, body{
  background: var(--bg);
  color: var(--text);
}

body{
  margin: 0;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Noto Sans JP", sans-serif;
}

/* Links */
a, a:visited{
  color: var(--link);
  text-decoration: underline;
}
a:hover, a:focus{
  color: var(--link-hover);
}

/* Layout */
.container{
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 16px;
}

/* Page header: NOT sticky */
header{
  padding: 20px 16px;
  border-bottom: 1px solid var(--border);
  position: static;
  background: transparent;
}

h1{
  font-size: 20px;
  margin: 0 0 6px 0;
  color: var(--text);
}

.sub{
  color: var(--muted);
  font-size: 13px;
}

.controls{
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
  margin-top: 14px;
}

/* Inputs */
input, select, button{
  background: var(--surface);
  border: 1px solid var(--border);
  color: var(--text);
  border-radius: 12px;
  padding: 10px 12px;
  font-size: 14px;
}

button{ cursor: pointer; }
button:hover{ border-color: #cbd5e1; }

/* Cards */
.card{
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 18px;
  padding: 14px;
  margin: 14px 0;
  box-shadow: 0 1px 2px rgba(0,0,0,.04);
  color: var(--text);
}

/* KPI */
.kpi{
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
}

.kpi .pill{
  background: var(--pill-bg);
  border: 1px solid var(--pill-border);
  color: var(--text);              /* force black */
  padding: 6px 10px;
  border-radius: 999px;
  font-size: 12px;
}
.kpi .pill *:not(.delta){
  color: var(--text);              /* keep black even when nested */
}

/* Badge / small */
.badge{
  display: inline-block;
  padding: 2px 8px;
  border-radius: 999px;
  border: 1px solid var(--border);
  font-size: 12px;
  color: var(--muted);
  background: var(--surface);
}

.small{
  font-size: 12px;
  color: var(--muted);
}

.footer{
  padding: 24px 16px;
  color: var(--muted);
  font-size: 12px;
}

/* =========================
   Tables (list + facility)
   ========================= */

/* Key point:
   - On desktop, allow page scroll to drive sticky header => NO overflow-y scroll container
   - Keep horizontal scroll only
*/
.tablewrap{
  overflow-x: auto;                 /* horizontal scroll only */
  overflow-y: visible;              /* IMPORTANT for sticky-on-page-scroll */
  -webkit-overflow-scrolling: touch;
  border-radius: 14px;
  border: 1px solid var(--border);
  background: var(--surface);
  position: relative;               /* stacking context for z-index */
  z-index: 0;
}

table{
  width: 100%;
  border-collapse: collapse;
  min-width: 980px;
  background: var(--surface);
  color: var(--text);
}

th, td{
  padding: 10px 10px;
  border-bottom: 1px solid #eef2f7;
  vertical-align: top;
}

/* Sticky header for BOTH tables */
#tbl thead th,
#hist thead th{
  position: sticky;
  top: 0;
  z-index: 50;                      /* above cells */
  background: var(--thead-bg);
  color: var(--thead-text);
  text-align: left;
  font-weight: 700;
  font-size: 12px;
  border-bottom: 1px solid rgba(255,255,255,.20);
  background-clip: padding-box;
  box-shadow: 0 2px 0 rgba(0,0,0,.08);
}

/* Body cells always under header */
#tbl td, #hist td{
  font-size: 13px;
  color: var(--text);
  position: relative;
  z-index: 1;
}

#tbl tbody tr:nth-child(even),
#hist tbody tr:nth-child(even){
  background: var(--row-alt);
}

/* Delta */
.delta{
  font-variant-numeric: tabular-nums;
  font-weight: 700;
}
.delta.plus  { color: var(--delta-plus); }
.delta.minus { color: var(--delta-minus); }
.delta.zero  { color: var(--delta-zero); }
.delta.none  { color: var(--delta-none); }

/* =========================
   Mobile
   ========================= */
@media (max-width: 768px){
  h1{ font-size: 18px; }

  .controls{ gap: 8px; }
  input, select, button{ width: 100%; }

  .badge{ width: 100%; }

  .kpi{ gap: 8px; }
  .kpi .pill{ width: 100%; }

  /* still horizontal scroll */
  table{ min-width: 900px; }

  /* If you WANT vertical scroll inside table on mobile only, enable below:
     (ヘッダー固定を "モバイルだけ確実に" したい場合)
  */
  /* .tablewrap{
       max-height: 65vh;
       overflow-y: auto;
     }
  */
}

/* index table column widths */
#tbl .col-name { min-width: 220px; }
#tbl .col-addr { min-width: 260px; }
#tbl .col-map  { min-width: 80px;  white-space: nowrap; }
#tbl .col-sta  { min-width: 120px; white-space: nowrap; }
#tbl .col-walk { min-width: 70px;  white-space: nowrap; text-align: right; }
#tbl .col-num  { min-width: 90px;  text-align: right; }
#tbl .col-delta{ min-width: 110px; text-align: right; }

/* モバイル時：住所列は折り返し、他は詰める */
@media (max-width: 768px){
  #tbl .col-addr{ min-width: 220px; white-space: normal; }
}
